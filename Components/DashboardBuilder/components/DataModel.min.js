!function(t,a,i,d){"use strict";t.DataModel=function(t){var i;i=this,this.dispatcher=t,this.fidx=-1,this.ds=null,this.files=[{displayname:"intel data",multipart:!0,parts:[{displayname:"intel part 1",url:"../../data/inteldata2-001.csv",idx:0,typ:"csv"},{displayname:"intel part 2",url:"../../data/inteldata2-002.csv",idx:1,typ:"csv"}]}],this.loaddata=function(t,d){a[t.typ](t.url,function(a){t.dat=a,d(null,"")}).on("progress",function(){if(a.event.lengthComputable){var d=Math.round(100*a.event.loaded/a.event.total);i.dispatcher.dispatch("dataprogress",{pct:d,id:t.idx})}})}},t.DataModel.prototype.startload=function(){var t,a,l;t=this,t.ds=null,t.ds=[],a=t.files[t.fidx].parts.length,a>4&&(a=4),l=d(a),i.forEach(t.files[t.fidx].parts,function(a,i){a.dat=[],l.defer(t.loaddata,a)}),l.awaitAll(function(){i.forEach(t.files[t.fidx].parts,function(a){"csv"===a.typ&&t.files[t.fidx].multipart&&(t.ds=t.ds.concat(a.dat),a.dat=null)}),t.files[t.fidx].loaded=!0,t.dispatcher.dispatch("loadcomplete")})}}(bo,d3,_,queue);